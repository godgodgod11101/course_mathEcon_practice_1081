---
title: "20191121 class"
author: "jacky wang"
date: "2020/9/9"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(reticulate)

# 設定要使用的python（可能因要使用不同版本的python而路徑有所改變）
use_python("C:\\Users\\User\\anaconda3\\envs\\pyClassEnv_ntpu\\python.exe", required = T)
# 在名為classEnvironment的沙盒下寫python
use_condaenv("pyClassEnv_ntpu", required = T)
```
若無法執行set up chunk，按Session－＞按Restart R

**技巧**

按小齒輪－＞按chunk output in console：讓console可編譯Python（>>> Python code）。
  在console打exit，就會回復原狀（> R code）。

在console裡打“repl_python()”，讓console可編譯Python（>>> Python code）。

shift + Tab：回彈兩格。

**連結**

https://opendata.culture.tw/ --> 文化資料開放服務網





# CH8 Numpy



# dim, size & shape

```{python}
import numpy as np
```

```{python}

x_23 = np.array(
  [
    [-1, 1, 5], 
    [0, 7, 4]
  ]
)

```

```{python}

x_23.shape    # ? by ? matrix
x_23.ndim    # How many axis? 

```

## vectors to matrix

```{python}

x0 = np.array([[2,3,5,7,9,11]])
x0
x0.shape

x0.shape = (2, 3)
x0

```

另存為新的matrix：

傳統法
```{python}

x1 = x0.copy()
x1.shape = (3, 2)
x0; x1

```

reshape method（不會改變原始值）
```{python}

del x1

x1 = x0.reshape(3, 2)
x0; x1

```



# array & flat array

array
```{python}

x1 = np.array([[ 1., 2., 3.]])    # row vector
x2 = np.array([[1.],[2.],[3.]])    # column vector
x1; x2

```

flat array（少了外層的[]）
```{python}

x0 = np.array([ 1., 0., 0.])
print(x0)
x0.shape    # (3,) means (1, 3)
x0.ndim    # only one axis

```

flat array與真array運算時會被當成一列
```{python}

x0 = np.array([ 1., 0., 0.])
x1 = np.array([[0., 1., 1.]])
x2 = np.array([[0.], [1.], [1.]])
x0; x1; x2

x1.shape
x2.shape

```

```{python}

x0 + x1
x0 + x2

```

```{python}

a0 = np.array(
  [
    [1., 0., 0.], 
    [1., 0., 0.], 
    [1., 0., 0.]
  ]
)

a2 = np.array(
  [
    [0., 0., 0.], 
    [1., 1., 1.], 
    [1., 1., 1.]
  ]
)

a0 + a2

```



# elementwise operations

```{python}

a = np.array(
  [
    [1.0, 2.0, 3.0],
    [1.0, 2.0, 3.0]
  ]
)  

b = np.array(
  [
    [-1., 4.0, -6.0],
    [1.0, 4.0, 6.0]
  ]
) 

```

```{python}

a*b
a/b

```



# broadcasting







